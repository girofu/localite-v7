# iOS é‹è¡Œæº–å‚™ç‹€æ…‹æª¢æŸ¥æ¸…å–®

## ğŸ¯ ç¸½é«”ç›®æ¨™ï¼šåœ¨ iOS æ¨¡æ“¬å™¨ä¸ŠæˆåŠŸé‹è¡Œ App

æœ¬æ–‡ä»¶æ—¨åœ¨è¿½è¹¤ä¸¦è§£æ±ºæ‰€æœ‰é˜»ç¤™æ‡‰ç”¨ç¨‹å¼åœ¨ iOS ä¸Šç©©å®šé‹è¡Œçš„å·²çŸ¥å•é¡Œã€‚æˆ‘å€‘å°‡åˆ†éšæ®µè™•ç†ç¨‹å¼ç¢¼å“è³ªã€é¡å‹éŒ¯èª¤ã€æ¸¬è©¦å¤±æ•—å’Œç’°å¢ƒé…ç½®ç­‰å•é¡Œã€‚

---

## éšæ®µä¸€ï¼šç¨‹å¼ç¢¼å¥åº·åº¦èˆ‡ç©©å®šæ€§ä¿®å¾© (é«˜å„ªå…ˆç´š)

**ç›®æ¨™ï¼š** è§£æ±ºæ‰€æœ‰ç·¨è­¯éŒ¯èª¤å’Œæ¸¬è©¦å¤±æ•—ï¼Œç¢ºä¿ç¨‹å¼ç¢¼åº«è™•æ–¼ä¸€å€‹å·²çŸ¥çš„ç©©å®šç‹€æ…‹ã€‚

### âœ… ä»»å‹™ 1ï¼šä¿®å¾© TypeScript é¡å‹éŒ¯èª¤ (å…± 3 å€‹)

- [ ] **æª”æ¡ˆ**: `__tests__/screens/ChatScreen.test.tsx`
  - [ ] éŒ¯èª¤ï¼š`Property 'ios' does not exist on type 'unknown'`
  - [ ] éŒ¯èª¤ï¼š`Property 'default' does not exist on type 'unknown'`
- [ ] **æª”æ¡ˆ**: `__tests__/screens/ChatScreen.voice.test.tsx`
  - [ ] éŒ¯èª¤ï¼š`Argument of type '{...}' is not assignable to parameter of type 'never'`

### âœ… ä»»å‹™ 2ï¼šä¿®å¾©å¤±æ•—çš„æ¸¬è©¦å¥—ä»¶ (å…± 5 å€‹)

- [ ] **æ¸¬è©¦å¥—ä»¶**: `__tests__/services/APIService.integration.test.ts`
  - [ ] **å•é¡Œ**: æ–·è¨€å¤±æ•—ï¼ŒæœŸæœ›æ”¶åˆ° `string` ä½†å¯¦éš›æ”¶åˆ° `object`ã€‚
- [ ] **æ¸¬è©¦å¥—ä»¶**: `__tests__/screens/ChatScreen.test.tsx`
  - [ ] **å•é¡Œ**: `MockedGoogleAIService` çš„ `toHaveBeenCalledWith` æ–·è¨€å¤±æ•—ï¼Œæ”¶åˆ°çš„åƒæ•¸ä¸åŒ¹é…ã€‚
- [ ] **æ¸¬è©¦å¥—ä»¶**: `__tests__/navigation/AppNavigation.test.tsx`
  - [ ] **å•é¡Œ**: 6 å€‹æ¸¬è©¦å›  `Element type is invalid` éŒ¯èª¤è€Œå¤±æ•—ï¼Œå¯èƒ½æ˜¯ React Navigation çš„ mock ä¸æ­£ç¢ºã€‚
- [ ] **æ¸¬è©¦å¥—ä»¶**: `__tests__/integration/UserJourney.test.ts`
  - [ ] **å•é¡Œ**: æ–·è¨€å¤±æ•—ï¼Œ`result.data?.analysis` çš„é¡å‹æ‡‰ç‚º `string` ä½†å¯¦éš›ç‚º `object`ã€‚
- [ ] **æ¸¬è©¦å¥—ä»¶**: `__tests__/screens/ChatScreen.voice.test.tsx`
  - [ ] **å•é¡Œ**: æ‰¾ä¸åˆ° `voice-error-indicator` å…ƒç´ ï¼Œè¡¨ç¤ºèªéŸ³éŒ¯èª¤è™•ç†çš„ UI æœªå¦‚é æœŸå‘ˆç¾ã€‚

---

## éšæ®µäºŒï¼šç¨‹å¼ç¢¼å“è³ªæå‡ (ä¸­å„ªå…ˆç´š)

**ç›®æ¨™ï¼š** æ¸…ç†è­¦å‘Šï¼Œæé«˜ç¨‹å¼ç¢¼å¯ç¶­è­·æ€§ã€‚

- [ ] **ä»»å‹™ 3ï¼šè™•ç† ESLint è­¦å‘Š (å…± 236 å€‹)**

  - [ ] **ä¸»è¦å•é¡Œ**: å¤§é‡çš„ `@typescript-eslint/no-explicit-any` å’Œ `@typescript-eslint/no-unused-vars` è­¦å‘Šã€‚
  - [ ] **è¡Œå‹•**: åˆ†æ‰¹æ¬¡ç‚º `any` é¡å‹æ·»åŠ å…·é«”çš„é¡å‹å®šç¾©ï¼Œä¸¦ç§»é™¤æœªä½¿ç”¨çš„è®Šæ•¸ã€‚

- [ ] **ä»»å‹™ 4ï¼šè§£æ±ºæ¸¬è©¦ç’°å¢ƒè­¦å‘Š**
  - [ ] **å•é¡Œ**: `react-test-renderer is deprecated`ã€‚
  - [ ] **è¡Œå‹•**: è©•ä¼°æ˜¯å¦å¯ä»¥é·ç§»åˆ°æ–°çš„æ¸¬è©¦æ¸²æŸ“å™¨ã€‚
  - [ ] **å•é¡Œ**: `Firebase åˆå§‹åŒ–å¤±æ•—ï¼Œä½¿ç”¨ mock æ¨¡å¼`ã€‚
  - [ ] **è¡Œå‹•**: æª¢æŸ¥ `setup.ts` ä¸­çš„ Firebase mock è¨­ç½®ï¼Œç¢ºä¿å…¶åœ¨æ¸¬è©¦ç’°å¢ƒä¸­èƒ½è¢«æ­£ç¢ºåˆå§‹åŒ–ã€‚

---

## éšæ®µä¸‰ï¼šiOS ç’°å¢ƒé…ç½®èˆ‡é‹è¡Œ

**ç›®æ¨™ï¼š** åœ¨è§£æ±ºä¸Šè¿°å•é¡Œå¾Œï¼Œæ–¼ iOS æ¨¡æ“¬å™¨ä¸Šå•Ÿå‹•ä¸¦é‹è¡Œ Appã€‚

- [ ] **ä»»å‹™ 5ï¼šç¢ºä¿ iOS ç’°å¢ƒé…ç½®æ­£ç¢º**

  - [ ] **ç¢ºèª**: `package.json` ä¸­çš„ `npm run ios` æŒ‡ä»¤å¯ä»¥æ­£å¸¸åŸ·è¡Œã€‚
  - [ ] **æª¢æŸ¥**: `app.json` ä¸­çš„ `ios.bundleIdentifier` (`com.localite.app`) æ˜¯å¦æ­£ç¢ºã€‚
  - [ ] **æª¢æŸ¥**: `eas.json` ä¸­çš„ `development` profile æ˜¯å¦é…ç½®ç‚º `simulator: true`ã€‚
  - [ ] **ç¢ºèª**: å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­çš„ `GoogleService-Info.plist` æª”æ¡ˆå­˜åœ¨ä¸”é…ç½®æ­£ç¢ºã€‚

- [ ] **ä»»å‹™ 6ï¼šå®‰è£ Pods ä¸¦å•Ÿå‹• App**

  - [ ] **åŸ·è¡Œ**: `cd localite-app-main/ios && pod install` ä¾†å®‰è£ iOS åŸç”Ÿä¾è³´ã€‚
  - [ ] **åŸ·è¡Œ**: è¿”å› `localite-app-main` ç›®éŒ„ï¼Œé‹è¡Œ `npm run ios` å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼ã€‚

- [ ] **ä»»å‹™ 7ï¼šæ‰‹å‹•åŠŸèƒ½é©—è­‰**
  - [ ] **æ¸¬è©¦**: åœ¨æ¨¡æ“¬å™¨ä¸Šæ‰‹å‹•æ¸¬è©¦æ ¸å¿ƒåŠŸèƒ½ï¼Œå¦‚ç™»å…¥ã€èŠå¤©ã€æ‹ç…§åˆ†æï¼Œç¢ºä¿åŠŸèƒ½æ­£å¸¸ã€‚

---

## éšæ®µå››ï¼šéƒ¨ç½²æº–å‚™ (æœªä¾†å·¥ä½œ)

- [ ] **ä»»å‹™ 8ï¼šæ›´æ–° EAS Submit é…ç½®**
  - [ ] **è¡Œå‹•**: åœ¨ `eas.json` çš„ `submit.production` å’Œ `submit.preview` éƒ¨åˆ†å¡«å…¥çœŸå¯¦çš„ Apple é–‹ç™¼è€…å¸³æˆ¶è³‡è¨Š (`appleId`, `ascAppId`, `appleTeamId`)ã€‚
