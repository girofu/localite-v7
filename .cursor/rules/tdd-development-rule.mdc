---
description: æ’°å¯«è»Ÿé«”æ™‚çš„æŒ‡å°åŸå‰‡
alwaysApply: false
---
### Phase 2: TDD é–‹ç™¼å¾ªç’°

#### ğŸ¯ TDD æ ¸å¿ƒæ¦‚å¿µèˆ‡åŸå‰‡

**Test-Driven Development (TDD)** æ˜¯ä¸€ç¨®è»Ÿé«”é–‹ç™¼æ–¹æ³•è«–ï¼Œéµå¾ªã€Œæ¸¬è©¦å…ˆè¡Œã€çš„æ ¸å¿ƒç†å¿µã€‚TDD ä¸åªæ˜¯æ¸¬è©¦ç­–ç•¥ï¼Œæ›´æ˜¯è¨­è¨ˆèˆ‡é–‹ç™¼çš„æŒ‡å°å“²å­¸ã€‚

##### âœ¨ TDD çš„ä¸‰å¤§æ ¸å¿ƒåŸå‰‡

1. **ğŸš« é™¤éæœ‰å¤±æ•—çš„å–®å…ƒæ¸¬è©¦ï¼Œå¦å‰‡ä¸æ’°å¯«ä»»ä½•ç”Ÿç”¢ä»£ç¢¼**

   - ç¢ºä¿æ¯ä¸€è¡Œä»£ç¢¼éƒ½æœ‰æ˜ç¢ºçš„å­˜åœ¨ç†ç”±
   - é¿å…éåº¦è¨­è¨ˆå’Œä¸å¿…è¦çš„è¤‡é›œæ€§
   - ä¿è­‰ä»£ç¢¼çš„å¯æ¸¬è©¦æ€§

2. **âš¡ åªæ’°å¯«å‰›å¥½è®“æ¸¬è©¦å¤±æ•—çš„æœ€å°‘æ¸¬è©¦ä»£ç¢¼**

   - ä¸€æ¬¡åªé—œæ³¨ä¸€å€‹åŠŸèƒ½é»
   - ä¿æŒæ¸¬è©¦çš„ç°¡æ½”å’Œå°ˆæ³¨
   - é¿å…æ¸¬è©¦éæ–¼è¤‡é›œæˆ–è¦†è“‹å¤šå€‹åŠŸèƒ½

3. **ğŸ¯ åªæ’°å¯«å‰›å¥½è®“æ¸¬è©¦é€šéçš„æœ€å°‘ç”Ÿç”¢ä»£ç¢¼**
   - é¿å…éæ—©å„ªåŒ–
   - å°ˆæ³¨æ–¼è§£æ±ºç•¶å‰å•é¡Œ
   - è®“è¨­è¨ˆè‡ªç„¶æ¹§ç¾

##### ğŸ”„ Red-Green-Refactor å¾ªç’°è©³è§£

```mermaid
graph LR
    A[ğŸ”´ Red<br/>å¯«å¤±æ•—æ¸¬è©¦] --> B[ğŸŸ¢ Green<br/>å¯«æœ€å°ä»£ç¢¼]
    B --> C[ğŸ”µ Refactor<br/>é‡æ§‹å„ªåŒ–]
    C --> A

    A1[åˆ†æéœ€æ±‚] --> A2[è¨­è¨ˆæ¸¬è©¦æ¡ˆä¾‹] --> A3[ç¢ºèªæ¸¬è©¦å¤±æ•—]
    B1[å¯¦ä½œæœ€å°åŠŸèƒ½] --> B2[ç¢ºèªæ¸¬è©¦é€šé] --> B3[ä¸ç ´å£ç¾æœ‰æ¸¬è©¦]
    C1[æ”¹å–„ä»£ç¢¼çµæ§‹] --> C2[æå‡å¯è®€æ€§] --> C3[å„ªåŒ–æ€§èƒ½]
```

##### ğŸ’¡ TDD å¸¶ä¾†çš„æ ¸å¿ƒåƒ¹å€¼

| åƒ¹å€¼é¢å‘       | å…·é«”æ•ˆç›Š          | å¯¦è¸æ–¹å¼                   |
| -------------- | ----------------- | -------------------------- |
| **è¨­è¨ˆå“è³ª**   | è¿«ä½¿æ€è€ƒ API è¨­è¨ˆ | å…ˆå¯«æ¸¬è©¦ç­‰æ–¼å…ˆè¨­è¨ˆä½¿ç”¨ä»‹é¢ |
| **ç¨‹å¼ç¢¼ä¿¡å¿ƒ** | é‡æ§‹æ™‚æœ‰å®‰å…¨ä¿éšœ  | æ¸¬è©¦ä½œç‚ºå®‰å…¨ç¶²ï¼Œæ•¢æ–¼æ”¹å‹•   |
| **éœ€æ±‚ç†è§£**   | æ¸¬è©¦å³è¦æ ¼æ–‡ä»¶    | æ¸¬è©¦æ¡ˆä¾‹æ˜ç¢ºè¡¨é”é æœŸè¡Œç‚º   |
| **å›æ­¸ä¿è­·**   | è‡ªå‹•ç™¼ç¾åŠŸèƒ½é€€åŒ–  | æŒçºŒåŸ·è¡Œæ¸¬è©¦å¥—ä»¶           |
| **é–‹ç™¼æ•ˆç‡**   | æ¸›å°‘ Debug æ™‚é–“   | å•é¡Œå¿«é€Ÿå®šä½åˆ°å…·é«”åŠŸèƒ½     |

##### âš ï¸ TDD å¸¸è¦‹é™·é˜±èˆ‡è§£æ±ºæ–¹æ¡ˆ

| é™·é˜±             | å•é¡Œæè¿°               | è§£æ±ºæ–¹æ¡ˆ                             |
| ---------------- | ---------------------- | ------------------------------------ |
| **æ¸¬è©¦å…ˆè¡Œææ‡¼** | ä¸çŸ¥é“å¦‚ä½•é–‹å§‹å¯«æ¸¬è©¦   | å¾æœ€ç°¡å–®çš„åŠŸèƒ½é–‹å§‹ï¼Œä¸€å€‹è¼¸å…¥ä¸€å€‹è¼¸å‡º |
| **éåº¦æ¸¬è©¦**     | ç‚ºäº†è¦†è“‹ç‡å¯«ç„¡æ„ç¾©æ¸¬è©¦ | å°ˆæ³¨æ–¼è¡Œç‚ºæ¸¬è©¦ï¼Œè€Œéä»£ç¢¼è¦†è“‹         |
| **æ¸¬è©¦è€¦åˆ**     | æ¸¬è©¦èˆ‡å¯¦ä½œç´°ç¯€éåº¦è€¦åˆ | æ¸¬è©¦å…¬é–‹ä»‹é¢ï¼Œä¸æ¸¬è©¦ç§æœ‰æ–¹æ³•         |
| **å¿½ç•¥é‡æ§‹**     | ç´…ç¶ å¾ªç’°å¾Œä¸é‡æ§‹       | è¨­ç½®é‡æ§‹æª¢æŸ¥é»ï¼Œå®šæœŸç¨‹å¼ç¢¼å¯©æŸ¥       |
| **æ¸¬è©¦ä¸å¤ å°**   | ä¸€æ¬¡æ¸¬è©¦å¤šå€‹åŠŸèƒ½       | ä¸€å€‹æ¸¬è©¦åªé©—è­‰ä¸€å€‹è¡Œç‚º               |

##### ğŸ› ï¸ TDD æœ€ä½³å¯¦è¸æŒ‡å—

1. **æ¸¬è©¦å‘½åç­–ç•¥**

   ```typescript
   // âŒ ä¸å¥½çš„å‘½å
   it("test createUser", () => {});

   // âœ… å¥½çš„å‘½åï¼šæè¿°è¡Œç‚ºå’Œé æœŸ
   it("should create user with hashed password when valid data provided", () => {});
   it("should throw ValidationError when email format is invalid", () => {});
   it("should return existing user when email already registered", () => {});
   ```

2. **æ¸¬è©¦çµæ§‹ï¼šAAA æ¨¡å¼**

   ```typescript
   it("should calculate tour duration correctly", () => {
     // Arrangeï¼ˆæº–å‚™ï¼‰ï¼šè¨­ç½®æ¸¬è©¦æ•¸æ“š
     const startTime = new Date("2025-01-15T10:00:00Z");
     const endTime = new Date("2025-01-15T14:30:00Z");
     const tour = new Tour({ startTime, endTime });

     // Actï¼ˆåŸ·è¡Œï¼‰ï¼šèª¿ç”¨è¢«æ¸¬è©¦çš„æ–¹æ³•
     const duration = tour.calculateDuration();

     // Assertï¼ˆæ–·è¨€ï¼‰ï¼šé©—è­‰çµæœ
     expect(duration).toBe(270); // 4.5 hours = 270 minutes
   });
   ```

3. **æ¸¬è©¦æ•¸æ“šç®¡ç†**

   ```typescript
   // âœ… ä½¿ç”¨ Factory Pattern å‰µå»ºæ¸¬è©¦æ•¸æ“š
   const createTestUser = (overrides = {}) => ({
     id: "user-123",
     email: "test@example.com",
     name: "Test User",
     ...overrides,
   });

   // âœ… ä½¿ç”¨æœ‰æ„ç¾©çš„æ¸¬è©¦æ•¸æ“š
   const invalidEmails = [
     "plainaddress",
     "@domain.com",
     "user@",
     "user..double.dot@domain.com",
   ];
   ```

#### 2.1 ğŸ”´ ç´…è‰²éšæ®µï¼šæ’°å¯«å¤±æ•—æ¸¬è©¦

> **æ ¸å¿ƒç›®æ¨™**ï¼šæ’°å¯«ä¸€å€‹æ˜ç¢ºæè¿°æœŸæœ›è¡Œç‚ºçš„æ¸¬è©¦ï¼Œæ­¤æ™‚è©²æ¸¬è©¦å¿…é ˆå¤±æ•—

**Agent Prompt å•Ÿå‹•**ï¼šTesting Specialist Agent

##### ğŸ¯ ç´…è‰²éšæ®µæ ¸å¿ƒä»»å‹™

1. **éœ€æ±‚åˆ†æ**ï¼šå°‡åŠŸèƒ½éœ€æ±‚è½‰åŒ–ç‚ºå¯æ¸¬è©¦çš„å…·é«”è¡Œç‚º
2. **æ¸¬è©¦è¨­è¨ˆ**ï¼šè¨­è¨ˆæ¸…æ™°çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œéµå¾ªå–®ä¸€è·è²¬åŸå‰‡
3. **å¤±æ•—ç¢ºèª**ï¼šç¢ºä¿æ¸¬è©¦å› ç‚ºé æœŸçš„åŸå› å¤±æ•—ï¼ˆåŠŸèƒ½æœªå¯¦ç¾ï¼‰

##### ğŸ“ æ¸¬è©¦æ’°å¯«ç­–ç•¥

**Step 1: ç¢ºå®šæ¸¬è©¦ç›®æ¨™**

```typescript
// ğŸ¤” æ€è€ƒï¼šé€™å€‹åŠŸèƒ½æ‡‰è©²åšä»€éº¼ï¼Ÿ
// - è¼¸å…¥ï¼šæ—…éŠæ¨™é¡Œ
// - è¼¸å‡ºï¼šåŒ…å« AI ç”Ÿæˆå…§å®¹çš„æ—…éŠç‰©ä»¶
// - å‰¯ä½œç”¨ï¼šå„²å­˜åˆ°è³‡æ–™åº«
```

**Step 2: æ’°å¯«æè¿°æ€§æ¸¬è©¦**

```typescript
// ç¯„ä¾‹ï¼šç‚ºæ–°åŠŸèƒ½æ’°å¯«æ¸¬è©¦
describe("TourService", () => {
  describe("createTour", () => {
    it("should create a new tour with AI content", async () => {
      // Arrange
      const tourData = {
        title: "Test Tour",
        description: "A test tour description",
      };

      // Act
      const result = await tourService.createTour(tourData);

      // Assert
      expect(result).toHaveProperty("id");
      expect(result.title).toBe(tourData.title);
      expect(result.aiContent).toBeDefined();
      expect(typeof result.aiContent).toBe("string");
      expect(result.createdAt).toBeInstanceOf(Date);
    });

    it("should throw error when title is empty", async () => {
      // Arrange
      const invalidTourData = { title: "" };

      // Act & Assert
      await expect(tourService.createTour(invalidTourData)).rejects.toThrow(
        "Tour title cannot be empty"
      );
    });
  });
});
```

**Step 3: åŸ·è¡Œæ¸¬è©¦ç¢ºèªå¤±æ•—**

```bash
npm test -- --testNamePattern="should create a new tour"
# é æœŸçµæœï¼šâŒ Test Failed
# å¤±æ•—åŸå› ï¼šTourService æˆ– createTour æ–¹æ³•å°šæœªå¯¦ç¾
```

##### âœ… ç´…è‰²éšæ®µæª¢æŸ¥æ¸…å–®

- [ ] æ¸¬è©¦åç¨±æ¸…æ¥šæè¿°é æœŸè¡Œç‚º
- [ ] æ¸¬è©¦åªé—œæ³¨ä¸€å€‹å…·é«”åŠŸèƒ½
- [ ] æ¸¬è©¦åŒ…å«å®Œæ•´çš„ AAA çµæ§‹ï¼ˆArrange, Act, Assertï¼‰
- [ ] æ¸¬è©¦å› ç‚ºæ­£ç¢ºçš„åŸå› å¤±æ•—ï¼ˆåŠŸèƒ½æœªå¯¦ç¾ï¼Œè€Œéèªæ³•éŒ¯èª¤ï¼‰
- [ ] é‚Šç•Œæ¢ä»¶å’ŒéŒ¯èª¤æƒ…æ³éƒ½æœ‰å°æ‡‰æ¸¬è©¦
- [ ] æ¸¬è©¦æ˜¯å¯è®€ä¸”è‡ªè§£é‡‹çš„

#### 2.2 ğŸŸ¢ ç¶ è‰²éšæ®µï¼šå¯¦ä½œæœ€å°ç¨‹å¼ç¢¼

> **æ ¸å¿ƒç›®æ¨™**ï¼šæ’°å¯«å‰›å¥½èƒ½è®“æ¸¬è©¦é€šéçš„æœ€ç°¡å–®ä»£ç¢¼ï¼Œé¿å…éåº¦è¨­è¨ˆ

**Agent Prompt åˆ‡æ›**ï¼šæ ¹æ“šå¯¦ä½œå…§å®¹é¸æ“‡

- Frontend: Frontend Development Agent
- Backend: Backend Development Agent
- Database: Database Design Agent

##### ğŸ¯ ç¶ è‰²éšæ®µæ ¸å¿ƒä»»å‹™

1. **æœ€å°å¯¦ç¾**ï¼šåªå¯¦ç¾è®“æ¸¬è©¦é€šéæ‰€éœ€çš„æœ€å°‘ä»£ç¢¼
2. **å¿«é€Ÿè¿­ä»£**ï¼šå„ªå…ˆè®“æ¸¬è©¦é€šéï¼Œæš«ç·©å„ªåŒ–å’ŒæŠ½è±¡
3. **ä¿æŒç°¡å–®**ï¼šä½¿ç”¨æœ€ç›´æ¥çš„è§£æ±ºæ–¹æ¡ˆï¼Œé¿å…éæ—©æŠ½è±¡

##### ğŸ”¨ å¯¦ä½œç­–ç•¥æŒ‡å—

**Step 1: ç¡¬ç·¨ç¢¼è§£æ±ºæ–¹æ¡ˆï¼ˆå¦‚æœé©ç”¨ï¼‰**

```typescript
// ğŸš€ ç¬¬ä¸€ç‰ˆï¼šè®“æ¸¬è©¦é€šéçš„æœ€ç°¡å¯¦ç¾
class TourService {
  async createTour(data: CreateTourDto): Promise<Tour> {
    // é©—è­‰è¼¸å…¥
    if (!data.title || data.title.trim() === "") {
      throw new Error("Tour title cannot be empty");
    }

    // æœ€å°å¯¦ç¾ï¼šç¡¬ç·¨ç¢¼ä½†æ»¿è¶³æ¸¬è©¦éœ€æ±‚
    const tour = {
      id: "tour-" + Date.now(), // ç°¡å–®çš„ ID ç”Ÿæˆ
      title: data.title,
      aiContent: "AI generated content for " + data.title, // å‡çš„ AI å…§å®¹
      createdAt: new Date(),
    };

    return tour;
  }
}
```

**Step 2: é€æ­¥å¢åŠ çœŸå¯¦å¯¦ç¾**

```typescript
// ğŸ”„ ç¬¬äºŒç‰ˆï¼šå¼•å…¥çœŸå¯¦ä¾è³´ä½†ä¿æŒç°¡å–®
class TourService {
  constructor(private aiService: AIService) {}

  async createTour(data: CreateTourDto): Promise<Tour> {
    if (!data.title || data.title.trim() === "") {
      throw new Error("Tour title cannot be empty");
    }

    const tour = new Tour();
    tour.id = generateId();
    tour.title = data.title;
    tour.aiContent = await this.aiService.generateContent(data.title);
    tour.createdAt = new Date();

    return tour;
  }
}
```

**Step 3: åŸ·è¡Œæ¸¬è©¦ç¢ºèªé€šé**

```bash
npm test -- --testNamePattern="should create a new tour"
# é æœŸçµæœï¼šâœ… Test Passed

# åŒæ™‚ç¢ºèªæ²’æœ‰ç ´å£ç¾æœ‰æ¸¬è©¦
npm test
# é æœŸçµæœï¼šAll tests should pass
```

##### ğŸš¨ ç¶ è‰²éšæ®µå¸¸è¦‹éŒ¯èª¤

| éŒ¯èª¤è¡Œç‚º     | å•é¡Œ                   | æ­£ç¢ºåšæ³•                     |
| ------------ | ---------------------- | ---------------------------- |
| **éåº¦è¨­è¨ˆ** | ä¸€æ¬¡å¯¦ç¾å¤ªå¤šåŠŸèƒ½       | åªå¯¦ç¾è®“æ¸¬è©¦é€šéçš„åŠŸèƒ½       |
| **éæ—©æŠ½è±¡** | ç«‹å³å‰µå»ºä»‹é¢å’ŒæŠ½è±¡é¡åˆ¥ | ç­‰åˆ°æœ‰é‡è¤‡æ™‚å†æŠ½è±¡           |
| **å®Œç¾ä¸»ç¾©** | è¿½æ±‚å®Œç¾çš„ä»£ç¢¼çµæ§‹     | å…ˆè®“æ¸¬è©¦é€šéï¼Œé‡æ§‹éšæ®µå†å„ªåŒ– |
| **åŠŸèƒ½è”“å»¶** | é †æ‰‹å¯¦ç¾é¡å¤–åŠŸèƒ½       | åš´æ ¼éµå®ˆæ¸¬è©¦è¦æ ¼             |

##### âœ… ç¶ è‰²éšæ®µæª¢æŸ¥æ¸…å–®

- [ ] æ‰€æœ‰æ–°æ’°å¯«çš„æ¸¬è©¦éƒ½é€šé
- [ ] æ²’æœ‰ç ´å£ä»»ä½•ç¾æœ‰æ¸¬è©¦
- [ ] åªå¯¦ç¾äº†è®“æ¸¬è©¦é€šéæ‰€éœ€çš„åŠŸèƒ½
- [ ] ä»£ç¢¼æ˜¯æœ€ç°¡å–®çš„å¯è¡Œè§£æ±ºæ–¹æ¡ˆ
- [ ] æ²’æœ‰æ·»åŠ æ¸¬è©¦æœªè¦æ±‚çš„é¡å¤–åŠŸèƒ½
- [ ] ç·¨è­¯ç„¡éŒ¯èª¤ï¼Œç¨‹å¼å¯ä»¥åŸ·è¡Œ

#### 2.3 ğŸ”µ é‡æ§‹éšæ®µï¼šå„ªåŒ–ç¨‹å¼ç¢¼

> **æ ¸å¿ƒç›®æ¨™**ï¼šåœ¨æ¸¬è©¦ä¿è­·ä¸‹æ”¹å–„ä»£ç¢¼çµæ§‹ã€å¯è®€æ€§å’Œè¨­è¨ˆï¼Œä½†ä¸æ”¹è®Šå¤–éƒ¨è¡Œç‚º

**Agent Prompt å”åŠ©**ï¼šå°æ‡‰é ˜åŸŸçš„ Agent + Testing Specialist

##### ğŸ¯ é‡æ§‹éšæ®µæ ¸å¿ƒä»»å‹™

1. **æ”¹å–„è¨­è¨ˆ**ï¼šæå‡ä»£ç¢¼çš„çµæ§‹å’Œå¯ç¶­è­·æ€§
2. **æ¶ˆé™¤é‡è¤‡**ï¼šDRY åŸå‰‡ (Don't Repeat Yourself)
3. **æå‡å¯è®€æ€§**ï¼šè®“ä»£ç¢¼æ›´å®¹æ˜“ç†è§£
4. **æ€§èƒ½å„ªåŒ–**ï¼šåœ¨ä¸æ”¹è®Šè¡Œç‚ºçš„å‰æä¸‹æå‡æ•ˆç‡

##### ğŸ”§ é‡æ§‹ç­–ç•¥èˆ‡æŠ€å·§

**Step 1: è­˜åˆ¥é‡æ§‹æ©Ÿæœƒ**

```typescript
// ğŸ” é‡æ§‹å‰ï¼šæª¢è¦–ä»£ç¢¼ç•°å‘³
class TourService {
  async createTour(data: CreateTourDto): Promise<Tour> {
    // âŒ ç•°å‘³1ï¼šé•·æ–¹æ³•
    // âŒ ç•°å‘³2ï¼šç¡¬ç·¨ç¢¼ä¾è³´
    // âŒ ç•°å‘³3ï¼šç¼ºä¹éŒ¯èª¤è™•ç†
    if (!data.title || data.title.trim() === "") {
      throw new Error("Tour title cannot be empty");
    }

    const tour = new Tour();
    tour.id = generateId();
    tour.title = data.title;
    tour.aiContent = await this.aiService.generateContent(data.title);
    tour.createdAt = new Date();

    return tour;
  }
}
```

**Step 2: æ‡‰ç”¨é‡æ§‹æ‰‹æ³•**

**ğŸ”¸ ä¾è³´æ³¨å…¥é‡æ§‹**

```typescript
// âœ… é‡æ§‹ï¼šæ³¨å…¥ä¾è³´ï¼Œæå‡å¯æ¸¬è©¦æ€§
class TourService {
  constructor(
    private readonly tourRepository: ITourRepository,
    private readonly aiService: IAIService,
    private readonly cacheService: ICacheService
  ) {}
```

**ğŸ”¸ æ–¹æ³•æå–é‡æ§‹**

```typescript
  async createTour(data: CreateTourDto): Promise<Tour> {
    this.validateTourData(data);

    try {
      const tour = await this.buildTour(data);
      const enrichedTour = await this.enrichWithAIContent(tour);
      await this.persistTour(enrichedTour);

      return enrichedTour;
    } catch (error) {
      throw new TourCreationError(`Failed to create tour: ${error.message}`);
    }
  }

  private validateTourData(data: CreateTourDto): void {
    if (!data.title?.trim()) {
      throw new TourValidationError("Tour title cannot be empty");
    }
  }

  private async buildTour(data: CreateTourDto): Promise<Tour> {
    return await this.tourRepository.create({
      ...data,
      id: generateId(),
      createdAt: new Date(),
    });
  }

  private async enrichWithAIContent(tour: Tour): Promise<Tour> {
    const aiContent = await this.aiService.generateContent(tour.title);
    tour.aiContent = aiContent;
    return tour;
  }

  private async persistTour(tour: Tour): Promise<void> {
    await this.cacheService.set(`tour:${tour.id}`, tour);
  }
}
```

**Step 3: éŒ¯èª¤è™•ç†é‡æ§‹**

```typescript
// âœ… è‡ªå®šç¾©éŒ¯èª¤é¡å‹
class TourCreationError extends Error {
  constructor(message: string, public readonly cause?: Error) {
    super(message);
    this.name = "TourCreationError";
  }
}

class TourValidationError extends Error {
  constructor(message: string) {
    super(message);
    this.name = "TourValidationError";
  }
}
```

##### ğŸ“‹ é‡æ§‹æª¢æŸ¥æ¸…å–®

**ğŸ” ä»£ç¢¼çµæ§‹æª¢æŸ¥**

- [ ] æ–¹æ³•é•·åº¦åˆç†ï¼ˆä¸€èˆ¬ <20 è¡Œï¼‰
- [ ] å–®ä¸€è·è²¬åŸå‰‡ï¼šæ¯å€‹æ–¹æ³•åªåšä¸€ä»¶äº‹
- [ ] ä¾è³´åè½‰ï¼šä¾è³´æŠ½è±¡è€Œéå…·é«”å¯¦ç¾
- [ ] æ¶ˆé™¤é‡è¤‡ä»£ç¢¼

**ğŸ“– å¯è®€æ€§æª¢æŸ¥**

- [ ] è®Šæ•¸å’Œæ–¹æ³•å‘½åæ¸…æ™°è¡¨æ„
- [ ] è¤‡é›œé‚è¼¯æœ‰é©ç•¶è¨»é‡‹
- [ ] ä»£ç¢¼çµæ§‹å±¤æ¬¡åˆ†æ˜
- [ ] éµå¾ªåœ˜éšŠç·¨ç¢¼è¦ç¯„

**âš¡ æ€§èƒ½æª¢æŸ¥**

- [ ] ç§»é™¤ä¸å¿…è¦çš„è¨ˆç®—
- [ ] åˆç†ä½¿ç”¨ç·©å­˜
- [ ] é¿å… N+1 æŸ¥è©¢å•é¡Œ
- [ ] é©ç•¶çš„ä¸¦ç™¼è™•ç†

**Step 4: ç¢ºä¿æ‰€æœ‰æ¸¬è©¦ä»ç„¶é€šé**

```bash
# ğŸ§ª é‡æ§‹å¾Œå¿…é ˆåŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
npm test
# é æœŸçµæœï¼šAll tests passed

# ğŸ” æª¢æŸ¥æ¸¬è©¦è¦†è“‹ç‡æ˜¯å¦ç¶­æŒæˆ–æå‡
npm run test:coverage
```

##### ğŸš« é‡æ§‹ç¦å¿Œ

| ç¦å¿Œè¡Œç‚º               | ç‚ºä»€éº¼å±éšª             | æ­£ç¢ºåšæ³•               |
| ---------------------- | ---------------------- | ---------------------- |
| **åŒæ™‚æ·»åŠ æ–°åŠŸèƒ½**     | æ··æ·†é‡æ§‹å’Œé–‹ç™¼         | ç´”é‡æ§‹ï¼Œä¸æ”¹è®Šè¡Œç‚º     |
| **å¤§å¹…åº¦é‡æ§‹**         | é¢¨éšªå¤ªé«˜ï¼Œé›£ä»¥è¿½è¹¤å•é¡Œ | å°æ­¥é‡æ§‹ï¼Œé »ç¹æ¸¬è©¦     |
| **å¿½ç•¥æ¸¬è©¦å¤±æ•—**       | å¯èƒ½å¼•å…¥ bug           | æ¸¬è©¦å¤±æ•—ç«‹å³åœæ­¢ä¸¦ä¿®å¾© |
| **é‡æ§‹æ²’æœ‰æ¸¬è©¦çš„ä»£ç¢¼** | æ²’æœ‰å®‰å…¨ç¶²             | å…ˆè£œå……æ¸¬è©¦å†é‡æ§‹       |

##### âœ… é‡æ§‹éšæ®µæª¢æŸ¥æ¸…å–®

- [ ] æ‰€æœ‰æ¸¬è©¦ä¾ç„¶é€šéï¼ˆ100% é€šéç‡ï¼‰
- [ ] ä»£ç¢¼çµæ§‹æ›´æ¸…æ™°æ˜“æ‡‚
- [ ] é‡è¤‡ä»£ç¢¼å·²æ¶ˆé™¤
- [ ] æ–¹æ³•å’Œé¡åˆ¥è·è²¬å–®ä¸€
- [ ] ä¾è³´é—œä¿‚æ›´åˆç†
- [ ] æ€§èƒ½æ²’æœ‰é¡¯è‘—ä¸‹é™
- [ ] ç·¨ç¢¼è¦ç¯„å®Œå…¨éµå¾ª
- [ ] é©ç•¶çš„éŒ¯èª¤è™•ç†å·²æ·»åŠ 

